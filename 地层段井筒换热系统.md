|      |      |      |
| ---- | ---- | ---- |
|      |      |      |
|      |      |      |
|      |      |      |

# 地层段井筒换热系统



## <传热模型：



### 传热过程分析：

![image-20240909142453546](C:\Users\jokic\AppData\Roaming\Typora\typora-user-images\image-20240909142453546.png)

#### <font color='red'>钻柱内部的传热模型</font>

![image-20240912200243717](C:\Users\jokic\AppData\Roaming\Typora\typora-user-images\image-20240912200243717.png)

#### <font color='red'>环空传热模型</font>

#### 

![image-20240912200718233](C:\Users\jokic\AppData\Roaming\Typora\typora-user-images\image-20240912200718233.png)

#### <font color='red'>井筒壁与地层传热模型</font>

![image-20240912200655114](C:\Users\jokic\AppData\Roaming\Typora\typora-user-images\image-20240912200655114.png)

该方程描述了流体温度的变化率TfT_fTf随着时间的推移，由于多种因素，包括径向和轴向热传导以及对流传热。

### 组件：

1. **左侧**：
   $$
   \frac{\partial T_f}{\partial t}
   $$
   

   - 该项表示地层温度的变化速率。

2. **右侧**：

   - 右侧包括三个主要部分：**径向传导**、**轴向传导**和**对流传热**。

### 第一部分（径向和轴向热传导）：

$$

$$

![image-20240912204204448](C:\Users\jokic\AppData\Roaming\Typora\typora-user-images\image-20240912204204448.png)

- λfor为是地层的热导率 （W/m⋅K）。
- ρf是地层岩石的密度 （kg/m³）。
- cf是地层岩石的比热容 （J/kg⋅K）。
- r是距井筒的径向距离，z是轴向距离。
- 此术语捕获径向 （∂2Tf∂r2\frac{\partial^2 T_f}{\partial r^2}∂r2∂2Tf） 和轴向 （∂2Tf∂跟2\frac{\partial^2 T_f}{\partial z^2}∂跟2∂2Tf） 热传导，以及由圆柱坐标 （1r∂Tf∂r\frac{1}{r} \frac{\partial T_f}{\partial r}r1∂∂Tf).

### 第二部分（对流传热）：

![image-20240912204357957](C:\Users\jokic\AppData\Roaming\Typora\typora-user-images\image-20240912204357957.png)

- Rpf是孔隙流体的密度 （kg/m³）。

- cpf是孔隙液的比热容 （J/kg⋅K）。

- Kf是地层的磁导率（达西单位，D）。

- μpf 是孔隙流体的动态粘度 （Pa⋅s）。

- φ是地层的孔隙率。

- $$
  \frac{\partial P}{\partial r}
  $$

  是多孔介质中的径向压力梯度。

- $$
  \frac{\partial T_f}{\partial r}
  $$

  是径向温度梯度。

- 该项解释了多孔介质中流体对流引起的传热。它将流体流动的达西定律与通过多孔结构的传热机制联系起来。

### 模型逻辑说明：

1. **传导**：

   - 等式的第一部分
     $$
     \frac{\partial^2 T_f}{\partial r^2},\frac{1}{r} \frac{\partial T_f }{\partial r}\frac{\partial^2 T_f}{\partial z^2}
     $$
     表示径向和轴向的热传导。这些术语描述了多孔介质中的温度梯度如何通过传导导致传热。

2. **对流**：

   - 第二部分引入了对流传热，这是由于流体在地层孔隙中的运动而发生的。这受压力梯度 
     $$
     （\frac{\partial P}{\partial r}）
     $$
     和相应的温度梯度。假设流体的流速遵循达西定律，该定律将流速与压力梯度和地层渗透率联系起来。

3. **整体流程**：

   - 井筒附近的传热受岩石热特性（由传导项表示）和孔隙流体流动（由对流项表示）的影响。通过将传导与对流耦合，该模型可以更准确地表示存在多孔流体流动的情况下井筒周围的温度分布。







![image-20240912201949801](C:\Users\jokic\AppData\Roaming\Typora\typora-user-images\image-20240912201949801.png)

#### 热阻相关：



热阻（Thermal Resistance）是物理学中的一个概念，它表示物体或材料对热量传递的阻碍程度。热阻的单位是开尔文每瓦特（K/W）。热阻可以类比于电路中的电阻，在热流路径中起到限制热流的作用。
热阻的大小取决于材料的性质、形状、尺寸以及温度等因素。以下是热阻的几个重要方面：
1. **定义**：热阻定义为温度差与通过材料的热流之比，即 \(
   $$
   R = \frac{\Delta T}{Q}
   $$
   \)，其中 \( R \) 是热阻，\( \Delta T \) 是温度差，\( Q \) 是热流量。
2. **热传导**：在热传导过程中，热阻决定了热量传递的效率。热传导的热阻由材料的导热系数、厚度和物体的表面积决定。
3. **热对流和热辐射**：在对流和辐射热传递过程中，热阻也会影响热量的传递。例如，对流热阻与流体的性质、流速、温度和物体的表面积有关。
4. **热桥**：在建筑领域，热桥是指建筑结构中热阻较小的部分，它们可能导致不希望的热量损失或得热。
5. **热管理**：在电子设备中，热阻是设计和热管理的一个重要参数。电子元件产生的热量需要通过热阻较低的路径有效地散发出去，以防止元件过热。
6. **热阻的串联和并联**：在复杂的热传递路径中，各个部分的热阻可以串联或并联。串联热阻相加，而并联热阻的倒数等于各部分热阻倒数之和。
了解和计算热阻对于许多工程和技术领域都非常重要，包括但不限于建筑节能、电子设备散热、制冷和加热系统设计等。通过降低热阻，可以提高能源效率，保证设备的安全运行。





公式中热阻：
![image-20240912205314661](C:\Users\jokic\AppData\Roaming\Typora\typora-user-images\image-20240912205314661.png)

### 多层结构的热阻

在多层结构中，每一层都会对热流产生一定的热阻。当热量通过这样的结构时，每一层的热阻会依次对热流产生阻碍作用，这可以类比为电路中的电阻串联。

### 总热阻的计算

总热阻 Rtotal*R**t**o**t**a**l* 是多层结构中所有单层热阻的总和。这是因为热量必须依次通过每一层，而每一层都会对热流产生一定的阻力。数学上，总热阻是各层热阻的直接相加：



Rtotal=R1+R2+R3+⋯+Rn*R**t**o**t**a**l*=*R*1+*R*2+*R*3+⋯+*R**n*



这里的 R1,R2,R3,…,Rn*R*1,*R*2,*R*3,…,*R**n* 分别是第1层、第2层、第3层，直到第n层的热阻。

### 串联热阻的特点

- **独立性**：每一层的热阻是独立的，不受其他层的影响。
- **顺序性**：热量必须按照一定的顺序通过每一层，不能跳过任何一层。
- **叠加性**：总热阻是各层热阻的代数和。











### 求解逻辑：



根据全隐式有限差分法，方程（6）和（12）可以分别变换为：



通过合并类似项，离散化方程可以获得为：

![屏幕截图 2024-09-09 200619](C:\Users\jokic\Pictures\Screenshots\屏幕截图 2024-09-09 200619.png)

模型中的温度和压力可以在每个时间步中单独求解，但要实现井筒温度和压力的耦合计算，需要更新钻井液的物性参数。地热水平井整个井筒钻井液温度瞬态分布的数值模型通过以下步骤求解，如图20所示。

(1)输入井眼信息（包括井眼轨迹、井眼结构和钻柱组合）、钻井参数和边界条件。(2)确定网格尺寸ΔL和时间步长Δt（3）使用方程（40）-（42）确定初始温度（Tguess）和压力。(4)用式**（30）-（34）确定当前温度和压力下每个网格的泥浆物理参数。(**5)计算每个网格的压力分布。(6)利用公式（1）、（2）、（3）和（4）、辅助公式和边界条件来计算温度分布（Tpred）。每个网格。(7)确定条件是否Tpred。满足− T猜测≤ εT。如果不满足，则使用当前温度和压力条件执行校正计算，返回步骤（3）直到满足条件。(8)计算下一个时间步长的单位温度和压力，直到达到所需的时间。(9)输出温度分布数据。

![屏幕截图 2024-09-09 200711](C:\Users\jokic\Pictures\Screenshots\屏幕截图 2024-09-09 200711.png)







### 偏微分方程求解过程：



有限差分法是一种数值方法，用于求解偏微分方程。在C语言编程中，它涉及到对时间和空间的网格剖分，通过差分近似替换导数。

按时间步长和空间步长将时间和空间区域剖分成若干网格，用未知函数在网格结(节)点上的值所构成的差分近似代替所用偏微分方程中出现的各阶导数，从而把表示变量连续变化关系的偏微分方程离散为有限个代数方程，然后解此线性代数方程组，以求出溶质在各网格结(节)点上不同时刻的浓度。

### 1.[有限差分法](https://so.csdn.net/so/search?q=有限差分法&spm=1001.2101.3001.7020)的引入与介绍

如果用一句话来概括有限差分法，那就是利用用网格节点逼近导数并建立代数方程组来求解各个网格上节点的值。在系列一里面我们知道要把一个无限、连续的问题通过区域的划分变成有限、离散的问题。在有限差分里的区域划分是等距的网格。

有限差分：利用用网格节点逼近导数，并建立有限个未知数的代数方程组来求解各个网格上节点的值

如何用网格节点逼近导数？（可以用高数里面学的泰勒展示）

逼近哪里的导数？（这里面的区别就产生了向前向后和CN）

解决了上述两个问题，也就产生了不同的差分格式。

##### 1.1离散区域并给出差分格式

获得差分格式其实并不是一个很复杂的过程，随便几种差商格式组合、泰勒展开都能得到很多的差分格式，但有限差分最核心的地方并不在于差分格式构造，而是在于分析得到的差分格式靠谱不靠谱。



2.几个常见的差分格式
2.1 一维问题
1.对求解域做网格剖分

我们将区间[a,b]划分为等距的n个部分，对应的有n+1个节点，取这些节点为：

$$
x 0 , x 1 . . . x i . . . x n x_0,x_1...x_i...x_nx 
0

 ,x 
1

 ...x 
i

 ...x 
n
$$
相邻节点间距为
$$
h=\frac{b-a}{n}
$$
记为步长。

2.几种常见的差分格式

差分格式：用离散网格点的组合（这里也就是差分或者差商）代替方程中的偏导数的格式

在一维情况，取等距模板点x i x_ix 
i

 、
$$
x i − 1 x_{i-1}x 
i−1
$$
 、
$$
x i + 1 x_{i+1}x 
i+1
$$
 ，两点间距都为 h hh，常见的差分格式有：

向前差分格式：即两个离散点的差商是用来代替前面那个点的导数
$$
u x = x i + 1 − x i h u_{x}=\frac{x_{i+1}-x_{i}}{h}u 
x

 = 
h
x 
i+1

 −x 
i
$$


向后差分格式：即两个离散点的差商是用来代替后面那个点的导数
$$
u x = x i − x i − 1 h u_{x}=\frac{x_{i}-x_{i-1}}{h}u 
x

 = 
h
x 
i

 −x 
i−1
$$




中心差分格式 ：这时候要**三个离散点**，最边上两个点的差商来代替中间那个点的导数。
$$
u x = x i + 1 − x i − 1 2 h u_{x}=\frac{x_{i+1}-x_{i-1}}{2h}u 
x

 = 
2h
x 
i+1

 −x 
i−1
$$
这时候也能刻画二阶导数，这就是二阶中心差分格式
$$
u x x = x i + 1 + x i − 1 − 2 x i h 2 u_{xx}=\frac{x_{i+1}+x_{i-1}-2x_{i}}{h^2}u 
xx

 = 
h 
2

x 
i+1

 +x 
i−1

 −2x 
i
$$





9月19日，有关有限差分方法

[Finite Difference Method (chatgpt.com)](https://chatgpt.com/c/66ec0749-3ee0-800f-9395-94b7ea8fb7fe)
